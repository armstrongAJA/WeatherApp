<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Holiday Approval</title>
  <script>
    window.onload = function() {
      const params = new URLSearchParams(window.location.search);
      
      // extract parameters
      const baseUrl = params.get(baseurl); 
      const itemid = params.get(itemid); // read from query string
      
      const fullUrl = decodeURIComponent(baseUrl) + "&itemid=" + encodeURIComponent(itemid);
      const successString = "The holiday has been approved. <Br> You may now close this window."
      // do a GET on the url
      fetch(fullUrl, { method: "GET" })
        .finally(() => {
          // Close the tab/window after triggering
          document.getElementById('display-text').textContent = successString;
        });
    };
  </script>
</head>
<body>
  <div>
    <h1 id="display-text">Loading...</h1>
  </div>
</body>
</html>
